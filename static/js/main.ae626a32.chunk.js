(this["webpackJsonpflow-weather"]=this["webpackJsonpflow-weather"]||[]).push([[0],{60:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(12),c=n.n(a),i=n(2),r=n(4),s=n(13),o=n(17),l=n.n(o),d=n(27),u=n(28),j=n.n(u),h=function(e){return j.a.get("".concat("https://api.openweathermap.org","/data/2.5/onecall"),{params:e})},b="WEATHER_LOADING",m="WEATHER_FAIL",_="WEATHER_SUCCESS",O=n(7),p=n(0),f=(n(60),n(1)),x=function(e){var t=e.date,n=e.dayWeatherDescripton,a=e.icon,c=e.tempeture,i=e.feelsLike,r=e.humidity,s=e.clouds,o=e.rainPosibility,l=e.pressure,d=e.windSpeed,u=e.uvi,j=e.dewPoint,h=e.visibility,b=e.sunrise,m=e.sunset,_=function(e,t){switch(t){case"temperature":return Math.round(e)+" \xb0c";case"percentage":return Math.round(e)+" %";case"pressure":return Math.round(e)+" hPa";case"speed":return Math.round(e)+" m/s";case"distance":return Math.round(e)+" m";case"time":return new Date(1e3*e).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});default:return String(Math.round(e))}},O=function(e,t,n,a){return Object(f.jsxs)("div",{className:"card__row",children:[Object(f.jsxs)("div",{className:"card__col",children:[Object(f.jsx)("h4",{className:"card__col__item",children:e}),Object(f.jsx)("p",{className:"card__col__item",children:t})]}),Object(f.jsxs)("div",{className:"card__col",children:[Object(f.jsx)("h4",{className:"card__col__item",children:n}),Object(f.jsx)("p",{className:"card__col__item",children:a})]})]})};return Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card__row__title",children:Object(f.jsx)("h2",{children:function(){var e=t;if("number"===typeof t){e=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","domingo"][new Date(1e3*Number(e)).getDay()]}return e+" - "+n}()})}),Object(f.jsxs)("div",{className:"card__row",children:[Object(f.jsx)("img",{className:"car__row__image",src:"http://openweathermap.org/img/wn/".concat(a,"@2x.png"),alt:"imagen del clima"}),Object(f.jsx)("h1",{children:_(c,"temperature")})]}),O("Sensacion real",_(i,"temperature"),"Humedad",_(r,"percentage")),void 0!==s?O("Nubosidad",_(s,"percentage"),"Presion",_(l,"pressure")):O("Probabilidad de lluvia",_(100*o,"percentage"),"Presion",_(l,"pressure")),O("Velocidad del viento",_(d,"speed"),"\xcdndice UV",_(u)),O("Punto de roc\xedo",_(j,"temperature"),"Visibilidad",_(h,"distance")),O("Amanecer",_(b,"time"),"Atardecer",_(m,"time"))]})},g=(n(62),function(e){var t=e.title,n=e.description;return Object(f.jsxs)("div",{className:"section__message",children:[Object(f.jsx)("h2",{children:t}),Object(f.jsx)("h4",{children:n})]})}),v=(n(63),function(e){var t=e.data,n=e.handleChange;return Object(f.jsx)("select",{className:"select",onChange:n,children:t.map((function(e,t){return Object(f.jsx)("option",{className:"select__option",value:(n=e.value,"object"===typeof n?JSON.stringify(n):n),children:e.description},e.description+t);var n}))})}),w=(n(64),function(){return Object(f.jsx)("div",{className:"center",children:Object(f.jsxs)("div",{className:"lds__ring",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})})}),N=(n(65),function(e){var t=e.title;return Object(f.jsx)("header",{className:"header",children:Object(f.jsx)("h2",{children:t})})}),y=(n(66),function(e){var t=e.githubIcon,n=e.linkedinIcon,a=e.githubLink,c=e.linkedinLink,i=e.githubText,r=e.linkedinText;return Object(f.jsxs)("footer",{className:"footer",children:[Object(f.jsxs)("a",{className:"footer__item",href:a,target:"_blank",rel:"noreferrer",children:[Object(f.jsx)("img",{className:"footer__image",src:t,alt:"github icon"}),Object(f.jsx)("h3",{className:"footer__image__text",children:i})]}),Object(f.jsx)("div",{className:"footer__item",children:Object(f.jsxs)("a",{className:"footer__item",href:c,target:"_blank",rel:"noreferrer",children:[Object(f.jsx)("img",{className:"footer__image",src:n,alt:"linkedin icon"}),Object(f.jsx)("h3",{className:"footer__image__text",children:r})]})})]})}),k=n.p+"static/media/linkedin-icon.ca6a0d94.svg",S=n.p+"static/media/github-icon.b7137fc9.svg",E=function(){var e=Object(p.useState)({latitude:null,longitude:null,error:null}),t=Object(O.a)(e,2),n=t[0],a=t[1];Object(p.useEffect)((function(){navigator.geolocation.getCurrentPosition(c,i)}),[n.error]);var c=function(e){a({latitude:e.coords.latitude,longitude:e.coords.longitude,error:!1})},i=function(e){e.code&&a({latitude:null,longitude:null,error:!0})};return n},P=(n(67),{getWeather:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:b}),t.prev=1,t.next=4,h(e);case 4:a=t.sent,n({type:_,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:m,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}}),L=Object(s.b)((function(e){return{store:Object(r.a)({},e.homeReducer)}}),P)((function(e){var t=e.getWeather,n=e.store,a=Object(p.useState)(!0),c=Object(O.a)(a,2),i=c[0],r=c[1],s=Object(p.useState)(null),o=Object(O.a)(s,2),l=o[0],d=o[1],u=n.weather.data.current,j=n.weather.data.daily,h=E(),b=Object(p.useState)([{description:"Bogot\xe1",value:{lat:4.601874,lon:-74.071648}},{description:"Barcelona",value:{lat:41.40319,lon:2.175026}},{description:"Sydney",value:{lat:-33.856721,lon:151.21525}},{description:"Estocolmo",value:{lat:59.329184,lon:18.090643}},{description:"Cairo",value:{lat:30.031534,lon:31.254341}}]),m=Object(O.a)(b,2),_=m[0],P=m[1];Object(p.useEffect)((function(){null!==h.error&&(h.latitude&&h.longitude?(_.unshift({description:"Ubicaci\xf3n actual",value:{lat:h.latitude,lon:h.longitude}}),P(_),d({lat:h.latitude,lon:h.longitude})):d(_[0].value))}),[h.error]),Object(p.useEffect)((function(){!n.weather.loading&&Object.keys(n.weather.data).length&&null!==h.error&&r(!1)}),[n.weather.loading,h.error]),Object(p.useEffect)((function(){l&&t({lat:l.lat,lon:l.lon,exclude:"minutely,hourly,alerts",units:"metric",lang:"es",appid:"4876cc236ffcabea6a6aad9960a7ea32"})}),[l]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{title:"Flow Weather"}),Object(f.jsx)("main",{className:"home__main",children:i?Object(f.jsx)("section",{className:"home__loader",children:Object(f.jsx)(w,{})}):n.weather.error?Object(f.jsx)(g,{title:"\xa1Lo sentimos!",description:"En este momento el servicio no se encuentra disponible"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("section",{className:"home__today__weather",children:[Object(f.jsx)("div",{children:Object(f.jsx)(v,{data:_,handleChange:function(e){var t=JSON.parse(e.target.value);d(t)}})}),Object(f.jsx)(x,{date:"Hoy",dayWeatherDescripton:u.weather[0].description,icon:u.weather[0].icon,tempeture:u.temp,feelsLike:u.feels_like,humidity:u.humidity,clouds:u.clouds,pressure:u.pressure,windSpeed:u.wind_speed,uvi:u.uvi,dewPoint:u.dew_point,visibility:u.visibility,sunrise:u.sunrise,sunset:u.sunset})]}),Object(f.jsxs)("section",{children:[Object(f.jsx)("h2",{className:"home__next__days__weather__title",children:"Pron\xf3stico de los siguentes d\xedas"}),Object(f.jsx)("div",{className:"home__next__days__weather",children:j.map((function(e,t){if(t>0&&t<6)return Object(f.jsx)(x,{date:e.dt,dayWeatherDescripton:e.weather[0].description,icon:e.weather[0].icon,tempeture:e.temp.day,feelsLike:e.feels_like.day,humidity:e.humidity,rainPosibility:e.pop,pressure:e.pressure,windSpeed:e.wind_speed,uvi:e.uvi,dewPoint:e.dew_point,visibility:1e4,sunrise:e.sunrise,sunset:e.sunset},e.dt+t)}))})]})]})}),Object(f.jsx)(y,{githubIcon:S,linkedinIcon:k,githubLink:"https://github.com/jucasero",linkedinLink:"https://www.linkedin.com/in/jucasero",githubText:"@jucasero",linkedinText:"@jucasero"})]})})),W=(n(68),n(8)),D=function(){return Object(f.jsx)("main",{className:"login__main",children:Object(f.jsxs)("div",{className:"login__container",children:[Object(f.jsx)("h1",{children:"Bienvenido a Flow Weather"}),Object(f.jsx)(W.b,{to:"/home",children:Object(f.jsx)("button",{className:"login__button",children:"Ingresar"})})]})})},I=(n(69),function(){return Object(f.jsx)("main",{className:"not__found__main",children:Object(f.jsxs)("div",{className:"not__found__container",children:[Object(f.jsx)("h1",{className:"not__found__container__title",children:"\xa1Error 404!"}),Object(f.jsx)("h4",{children:"Pagina no encontrada"}),Object(f.jsx)(W.b,{to:"/",children:Object(f.jsx)("button",{className:"not__found__button",children:"Volver al Inicio"})})]})})}),M=function(){return Object(f.jsxs)(i.c,{children:[Object(f.jsx)(i.a,{path:"/",element:Object(f.jsx)(D,{})}),Object(f.jsx)(i.a,{path:"/home",element:Object(f.jsx)(L,{})}),Object(f.jsx)(i.a,{path:"*",element:Object(f.jsx)(I,{})})]})},T=(n(70),n(9)),A=n(29),C=n(30),R={weather:{data:{},loading:!1,error:!1}},F=Object(T.combineReducers)({homeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(r.a)(Object(r.a)({},e),{},{weather:Object(r.a)(Object(r.a)({},e.weather),{},{loading:!0})});case _:return Object(r.a)(Object(r.a)({},e),{},{weather:Object(r.a)(Object(r.a)({},e.weather),{},{data:t.payload,error:!1,loading:!1})});case m:return Object(r.a)(Object(r.a)({},e),{},{weather:Object(r.a)(Object(r.a)({},e.weather),{},{data:t.payload,error:!0,loading:!1})});default:return e}}}),H=Object(T.createStore)(F,Object(A.composeWithDevTools)(Object(T.applyMiddleware)(C.a)));c.a.render(Object(f.jsx)(W.a,{children:Object(f.jsx)(s.a,{store:H,children:Object(f.jsx)(M,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.ae626a32.chunk.js.map